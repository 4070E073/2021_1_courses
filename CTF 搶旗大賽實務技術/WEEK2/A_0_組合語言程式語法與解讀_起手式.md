# A_0_組合語言程式語法與解讀_起手式.md
```
產生組合語言
(1)使用gcc/g++產生組合語言   ==> gcc/g++
(2)使用逆向程式工具把執行檔逆回組合語言 ==> objdump  
(3)直接使用nasm/masm/fasm/gas/....撰寫組合語言程式 ==> GAS nasm
```
# (1)使用gcc/g++產生組合語言[32bit與64bit組合語言不一樣!!]
```
產生預設的AT&T 語法的組合語言
    gcc -S func1.c -o func1.s

產生intel 語法的組合語言
    gcc -S -masm=intel func1.c -o func1_intel.s

gcc -S -masm=intel func1.c -o func1_intel.s -fno-asynchronous-unwind-tables
```
# (2)使用逆向程式工具把執行檔逆回組合語言 ==> objdump  
```

```
# (3)直接使用nasm/masm/fasm/gas/....撰寫組合語言程式 ==> GAS nasm
```

```

# 組合語言程式的核心語法
## 計算機組織
```
計算體系結構
處理器(CPU)
緩存|快取(cache)與暫存器(register)
64 位處理器
指令的執行
指令流水線(pipeline)
輸入與輸出(input | output)
```
```
資料表達data representation
```

## 彙編語言及其語法
```
彙編程式的五大支柱
宇面量
標簽與注釋
```

## 基本指令
```
資料的移動與算術運算
資料移動
加法與減法
乘法與除法
移位
處理負值
```

```
資料的定址與傳輸
資料對齊
資料尋址
```

```
Array(數組|陣列)
改變資料的大小及類型
```

## 中級指令
```
Bitwise(按位執行的)布林運算
```

### 分支
```
無條件跳轉
有條件跳轉
複合條件
```
### 重複執行(loop)
```
使用CX/ECX爾EX 計數器實現循環
使用用開發者自訂的計數器實現循環
```

## 函數(function)|方法(method)|程序(procedure)
```
memory記憶體與 stack heap
stack的運算
```

```
呼叫約定(Calling convention)
x86 (32 位元)呼叫約定 ==> cdecl   stdcall
x86_64 呼叫約定==>x86_64 (64 位）
```

```
沒帶參數的函數呼叫
帶參數的函數呼叫
```

## 字串處裡相關指令
```
MOVS 
CMPS 
SCAS 
STOS 
LOOS
```
## 結構體
## 浮點數運算(略)

## 內聯彙編與宏
```



內聯彙編
與編譯器有關的細節
內聯式的彙編語句
為各種彙編方言提供支持
注意事項
宏
對比巨集與函數
定義並調用宏
```

## 中斷與系統呼叫
```
軟體中斷
硬體中斷
```
```
通過INT 進行系統呼叫(舊方法)
通過SYSENTER、SYSCALL及程式庫/AP! 進行系統呼叫(新方法)
```

# 指令集架構(Instruction Set Architecture, ISA)
```
指令集架構(Instruction Set Architecture, ISA) 是電腦體系結構中與程式設計有關的方面。
它指出了處理器所具備的指令、寄存器、記憶體架構、資料類型以及其他一些屬性，以供程式員使用。
你可以把ISA 理解成電腦所說的語言，它能夠促進軟體與硬體之間的通信

指令集架構分為複雜與精簡兩種。
複雜指令集(Complex Instruction Set Computing,CISC) 架構中的指令，
其長度（也就是表示該指令所需的位元組數）不固定。
之所以說它複雜，是因為一條指令有可能要完成多項任務，
比方說，既要訪間某個記憶體位址，又要執行算術運算。

與之相對的ISA 設計稱為精簡指令集(Reduced Instruction Set Computing, RISC)
其中的所有指令都一樣長，而且只執行一項任務（例如只訪間某個記憶體位址，不做其他的事情）。

x86 與x86_64 都是CISC 架構，
其他一些ISA 設計方案則多為RISC 架構。

32 位x86 指令集架構的常用名稱==> x86    IA-32   i386
64 位x86 指令集架構的常用名稱==> x64  x86_64
                              Intel: IA-32e （原名）、Intel 64 （當前名稱）AMD: AMD64
                              
64 位版的x86 與64 位的Intel Architecture （簡稱IA-64) 是兩種完全不同的架構，
後者是Itanium （安騰）系列處理器所用的指令集，它與IA-32 及x64 均不相容。
                              
```

# 為什麼要學習組合語言
```

·學習組合語言可以更好地理解電腦的操作。程式師可以通過彙編這種手段來瞭解
計算機硬體、CPU 元件以及記憶體佈局等細節，並知道電腦體系結構中的這些要素
是怎樣交互的。
．編寫彙編代碼時，程式師可以頻繁使用調試器來排查代碼中的錯誤。它提供了彙編、
反彙編等功能，還可以查看寄存器與記憶體資訊，以便在底層單步地執行程式。理解
匯編語言與電腦體系結構，能夠説明開發者更好地找到並修復代碼中的bug 。
．瞭解組合語言及電腦操作，能夠説明開發者對高層及底層的實現問題做出更加明
智的決策，從而可以充分利用硬體的特徵來優化程式的效率。
·懂得組合語言可以令你在完成位操作(bit manipulation) 及函式呼叫(function call,
也稱為procedure call, 過程洞用）等任務時，省去很多抽象環節。
·必須非常熟悉彙編才能夠進入某些軟體發展領域，例如嵌入式設備的程式設計、設備驅
動程式的程式設計，以及作業系統程式設計等。
總之，學習組合語言，可以令你更加全面地理解電腦的操作原理及代碼的運行機制，
從而能夠更好地利用這些知識。此



```


```


```


```



```



```


```


```


```



```



```


```


```


```



```



```


```


```


```



```



```


```


```


```



```
